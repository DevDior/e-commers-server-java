# 🛒 e-Commerce 주문 서비스

## 📌 목적
사용자가 상품을 주문하고, 쿠폰 및 잔액을 활용하여 결제할 수 있는 e-커머스 서비스 구현

---

## ✅ 기능 요구사항

### 1. 잔액 충전 / 조회 API
- 사용자 식별자와 금액을 입력받아 잔액을 충전
- 사용자 식별자로 잔액 조회 가능

### 2. 상품 조회 API
- 상품 정보(ID, 이름, 가격, 잔여수량) 조회
- 잔여수량은 정확해야 함

### 3. 주문 / 결제 API
- 사용자 식별자 + 상품 ID/수량 목록으로 주문
- 잔액 기반 결제, 성공 시 잔액 차감
- 유효 쿠폰 존재 시 할인 적용
- 외부 데이터 플랫폼에 주문정보 실시간 전송

### 4. 쿠폰 발급 / 조회 API
- 선착순으로 쿠폰 발급
- 사용자의 보유 쿠폰 목록 조회

### 5. 인기 상품 조회 API
- 최근 3일간 가장 많이 팔린 상품 Top 5 반환

---

## ⚙️ 비기능 요구사항

### 성능
- 평균 응답 300ms 이하, 95%는 500ms 이하
- 트랜잭션 API는 TPS 100 이상 처리 가능
- 재고/쿠폰 트랜잭션은 락 또는 원자성 보장

### 확장성
- 수평 확장 가능
- 외부 전송은 비동기 (ex. 메시지 큐)
- DB/캐시 분리 및 샤딩 등 고려

### 가용성
- 99.9% 이상 SLA 목표
- 장애 복구 및 트랜잭션 롤백, 무중단 배포 지원

### 보안
- JWT 기반 인증, HTTPS 통신
- 쿠폰 발급에 속도 제한 및 인증 적용

### 유지보수성
- 계층화 구조 및 도메인 기반 설계
- TDD 기반 테스트 및 Swagger 문서 유지

---

## 🧪 테스트 요구사항

- 각 기능당 **단위 테스트 1개 이상 필수**
- **동시성 상황 테스트** 포함 (ex. 다수의 주문 요청, 쿠폰 선착순 발급)
- **Mock/Fake를 활용한 외부 시스템 연동 테스트** 구현

---

## 🚨 제약조건

- **MySQL 사용 필수**
- **다중 서버 환경에서 동작 보장**
- **재고/잔액의 정확한 동시성 처리 필수**

---

## 🔍 참고사항

- 데이터 플랫폼 전송은 실제 API가 아닌 Mock 처리 가능
- Swagger 명세는 자동 생성되도록 구성
- 각 API는 RESTful 하게 구성 (ex. `POST /orders`, `GET /products`)
